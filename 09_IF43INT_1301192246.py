# -*- coding: utf-8 -*-
"""Tubes AI.ipynb

Automatically generated by Colaboratory.

Original file is located at
    https://colab.research.google.com/drive/1-B8wHDrwqVGjxmNpQ44W_O2ZGu8zL9i4
"""

from math import sin
import random

"""![image.png](data:image/png;base64,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)"""

def h(x, y):
    return ((x**2) * (sin(sin(y**2)))) + (x + y)

def generate_population(population_size, chromosome_size):
    return [[random.choice([0,1]) for _ in range(chromosome_size)] for _ in range(population_size)]

"""![image.png](data:image/png;base64,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)"""

def decode(chromosome):

  x_max = 2
  x_min = -1
  
  y_max = 1
  y_min = -1

  d_function = lambda rmax, rmin, start_bit, end_bit:  rmin + ((rmax - rmin) / sum([2**(-(i+1)) for i in range(start_bit, end_bit)])) * sum([chromosome[i] * 2**(-(i+1)) for i in range(start_bit, end_bit)])

  x = d_function(x_max, x_min, 0, len(chromosome)//2)
  y = d_function(y_max, y_min, len(chromosome)//2, len(chromosome))

  return x, y

def fitness(chromosome):
  x, y = decode(chromosome)
  return h(x, y)

def tournament_selection(population, k):

  candidate = [population[random.randrange(0, len(population))] for _ in range(k)]
  candidate.sort(key=fitness, reverse=True)

  return candidate[0], candidate[1]

def crossover(parent1, parent2, crossover_rate):

  offspring = []
  randomP = random.random()

  if randomP < crossover_rate:
    randomPoint = random.randrange(0, len(parent1))
    offspring[:randomPoint], offspring[randomPoint:] = parent2[:randomPoint], parent1[randomPoint:]
    return offspring
  
  return parent1

def mutation(chromosome, mutation_rate):
  return [gene if random.random()  > mutation_rate else 1 if gene == 0 else 0 for gene in chromosome]

# Function Main

best_fitness = 0
best_before = best_fitness
best_x, best_y = 0, 0

population_size = 20
chromosome_size = 8
generation_size = 1000
mutation_rate = 0.01
crossover_rate = 0.9
elitism_num = 2
k = 3

population = generate_population(population_size, chromosome_size)

for g in range(generation_size):
  
  best_before = best_fitness
  population.sort(key=fitness, reverse=True)
  
  best_fitness = fitness(population[0])
  best_x, best_y = decode(population[0])
  
  if best_fitness != best_before:
    print(f"Generation {g + 1}\nx:{best_x} \ny:{best_y} \nBest Fitness: {best_fitness}, \nBest Chromosome{population[0]}\n" )

  mating_pool = population[:elitism_num]

  while len(mating_pool) <= population_size:
    
    parent1, parent2 = tournament_selection(population, k)

    offspring = crossover(parent1, parent2, crossover_rate)
    offspring = mutation(offspring, mutation_rate)
    mating_pool.append(offspring)
  
  population = mating_pool

print(f"Generation {generation_size}\nx:{best_x} \ny:{best_y} \nBest Fitness: {best_fitness}, \nBest Chromosome:{population[0]}\n" )